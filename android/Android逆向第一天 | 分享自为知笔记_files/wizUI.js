"undefined"==typeof wizUI&&(window.wizUI={}),wizUI.event={click:"click"},wizUI.support={canvas:function(){return!!document.createElement("canvas").getContext}(),history:!(!window.history||!history.pushState),placeholder:function(){var t=document.createElement("input");return"placeholder"in t}(),touch:!!("ontouchstart"in document.documentElement),transition:function(){var t=document.body||document.documentElement,e=t.style,i=void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition;return i}(),FormData:!!window.FormData},function(){"use strict";function isType(t){return function(e){return Object.prototype.toString.call(e)=="[object "+t+"]"}}var wizUI=window.wizUI||{};try{"abc".localeCompare("abcd")}catch(t){String.prototype.localeCompare=function(t){return this.toString()==t?0:this.toString()>t?1:-1}}var matchRegExpKeyWord=/[|\\{}()[\]^$+*?.]/g;try{"abc".escapeRegex("abcd")}catch(t){String.prototype.escapeRegex=function(){return this.toString().replace(matchRegExpKeyWord,"\\$&")}}var rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;"wiz".trim||(String.prototype.trim=function(){return this.replace(rtrim,"")}),wizUI.util={addClass:function(t,e){if(t&&e){var i,n,o,a=" "+t.className+" ",r=e.split(" "),s=[];for(i=0,n=r.length;i<n;i++)o=r[i],o&&a.indexOf(" "+o+" ")<0&&s.push(o);t.className=t.className+" "+s.join(" ")}},clone:function(t){var e;if(null===t)return null;var i=wizUI.util.isArray(t)?[]:{};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]instanceof Date?new Date(t[e].getTime()):"object"==typeof t[e]?wizUI.util.clone(t[e]):t[e]);return i},isArray:Array.isArray||isType("Array"),isFunction:isType("Function"),isEmptyObj:function(t){var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},arrayIndexOf:function(t,e){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var i,n;for(i=t.length-1;i>=0;i--)if(n=t[i],e===n)return i;return-1},htmlEncode:function(t){return $("<div/>").text(t).html()},htmlDecode:function(t){return $("<div/>").html(t).text()},templateReplace:function(t,e){var i=new RegExp("{(\\w+)}","ig");return t.replace(i,function(t,i){return e[i]||""})},parseJson:function(str){var data;if(window.JSON&&window.JSON.parse)try{data=JSON.parse(str)}catch(e){data=eval("("+str+")")}else data=eval("("+str+")");return data},getTopDomain:function(){var t=document.domain,e=t.match(/\.([^\.])+\.([^\.])+$/g),i=t.match(/[\d]{1,3}\.[\d]{1,3}\.[\d]{1,3}\.[\d]{1,3}$/g),n="";return!i&&e&&e.length>0&&(t=e[0].substr(1),n=t,wizUI.util.cookie("wiz_test_domain","1",{expires:0,domain:n,path:""}),wizUI.util.cookie("wiz_test_domain")||(e=document.domain.match(/\.([^\.])+\.([^\.])+\.([^\.])+$/g),t=e?e[0].substr(1):document.domain),wizUI.util.cookie("wiz_test_domain",null,{expires:0,domain:n,path:""})),wizUI.util.getTopDomain=function(){return t},t},setUrlParams:function(t,e){var i="?";t.indexOf("?")>-1&&(i="&"),t=t.replace("?","?&");var n,o,a,r=[];for(n in e)e.hasOwnProperty(n)&&(a=new RegExp("&"+n+"=[^&]*","ig"),t=t.replace(a,""),o=e[n],null!==o&&void 0!==o&&""!==o&&(r.push(i,n,"=",encodeURIComponent(e[n])),i="&"));return t=t.replace("?&","?"),t+r.join("")},urlParse:function(t){var e=document.createElement("a");e.href=t;var i=function(t){if(!t)return{};var e={};t=t.slice(1).split("&");for(var i,n=0;n<t.length;n++)i=t[n].split("="),e[i[0]]=decodeURIComponent(i[1]);return e};return{protocol:e.protocol,host:e.host,hostname:e.hostname,pathname:e.pathname,search:i(e.search),hash:e.hash}},WizEditorTmpName:"wiz_tmp_editor_style",loadSingleCss:function(t,e){var i="wiz_"+e;if(t.getElementById(i))return!0;var n=t.createElement("link");return n.rel="stylesheet",n.setAttribute("charset","utf-8"),n.setAttribute("name",this.WizEditorTmpName),n.href=e.replace(/\\/g,"/"),t.getElementsByTagName("head")[0].insertBefore(n,null),n},appendCssCode:function(t,e,i){var n=t.createElement("style");n.type=i,n.innerHTML=e,n.setAttribute("name",this.WizEditorTmpName),t.getElementsByTagName("head")[0].appendChild(n)},getInnerText:function(t){var e="",i=function(t){return t?t.replace(/ +/gm," ").replace(/[\t]+/gm,"").replace(/[ ]+$/gm,"").replace(/^[ ]+/gm,"").replace(/\n+/gm,"\n").replace(/\n+$/,"").replace(/^\n+/,"").replace(/NEWLINE/gm,"\n"):""},n=function(t){var e=function(t){return!/[^\t\n\r ]/.test(t.nodeValue)},i=[],n=function(t){for(var o=0;o<t.childNodes.length;o++){var a=t.childNodes[o];3==a.nodeType&&e(a)?i.push(a):a.hasChildNodes()&&n(a)}};n(t);for(var o=0;o<i.length;o++)i[o].parentNode.removeChild(i[o])},o=function(t,e){if(t.style[e])return t.style[e];var i=t.currentStyle||t.ownerDocument.defaultView.getComputedStyle(t,null);return"SCRIPT"==t.tagName?"none":i[e]?"block"==i[e]&&"TD"==t.tagName?"feaux-inline":i[e]:"LI,P,TR".indexOf(t.tagName)>-1?"block":t.style[e]},a="table-row,block,list-item",r=function(t){var e=o(t,"display")||"feaux-inline";return a.indexOf(e)>-1},s=function(t){if(/pre/.test(o(t,"whiteSpace")))return e+=t.innerHTML.replace(/\t/g," "),"";var i=o(t,"display");if("none"==i)return"";var n=r(t)?"\n":" ";e+=n;for(var a=0;a<t.childNodes.length;a++){var l=t.childNodes[a];3==l.nodeType&&(e+=l.nodeValue),l.childNodes.length&&s(l)}return e+=n},l=t.cloneNode(!0);return l.innerHTML=l.innerHTML.replace(/<br[\/]?>/gi,"NEWLINE"),n(l),i(s(l))},markdownPreProcess:function(t){var e=$(t);e.find(".wiz-table-container").each(function(t){var e=$(this),i=$("<span></span>");i.text(e[0].outerHTML),i.insertAfter(e);var n=$("<br/>");n.insertAfter(e),e.remove()}),e.find("label.wiz-todo-label").each(function(t){var e=$(this),i=$(".wiz-todo-img",this);if(0!==i.length){var n=$("<span></span>");n.text(e[0].outerHTML),n.insertAfter(e),e.remove()}}),e.find(".wiz-todo-layer").each(function(t){var e=$(this),i=$(".wiz-todo-checkbox",this);if(0!==i.length){var n=$("<span></span>");n.text(e[0].outerHTML),n.insertAfter(e),e.remove()}}),e.find("a").each(function(t,e){var i=$(e),n=i.attr("href");if(n&&/^(wiz|wiznote):/.test(n)){var o=$("<span></span>");o.text(i[0].outerHTML),o.insertAfter(i),i.remove()}}),e.find("img").each(function(t){var e=$(this),i=$("<span></span>");i.text(e[0].outerHTML),i.insertAfter(e),e.remove()}),e.find("p").each(function(){var t=$(this);t.replaceWith($("<div>"+this.innerHTML+"</div>"))})},getUrlParam:function(t,e){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=(e?e:window.location.search).substr(1).match(i);return null!==n?decodeURIComponent(n[2]):""},getUrlParams:function(t){var e,i,n,o,a,r={};i=t?t:window.location.hash||location.search;var s=i.substring(i.indexOf("?")+1);if(0===s.length)return{};for(o=s.split("&"),e=0;e<o.length;e++)n=o[e],a=n.indexOf("="),r[n.substring(0,a).toLowerCase()]=decodeURIComponent(n.substring(a+1));return r},getLocale:function(t){var e,i=wizUI.util.getUrlParam("l",null);t?e=t:i?(e=i,wizUI.util.cookie("lang",i,wizUI.util.getCookieOptions())):e=wizUI.util.cookie("lang")?wizUI.util.cookie("lang"):navigator.language||navigator.browserLanguage;var n=e.toLowerCase().replace("_","-").replace(/(\-[^\-]*)-.*$/gi,"$1");switch(n){case"zh-cn":case"zh-hans":case"2052":n="zh-cn";break;case"zh-tw":case"zh-hant":case"1028":n="zh-tw";break;default:n="en"}return n},getCookieOptions:function(t){return{expires:t?t:0,domain:wizUI.util.getTopDomain(),path:"/"}},cookie:function(t,e,i){if("undefined"==typeof e){var n=null;if(document.cookie&&""!==document.cookie)for(var o=document.cookie.split(";"),a=0;a<o.length;a++){var r=o[a].trim();if(r.substring(0,t.length+1)==t+"="){n=decodeURIComponent(r.substring(t.length+1));break}}return n}i=i||{},null===e&&(e="",i=wizUI.util.clone(i),i.expires=-1);var s="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var l;"number"==typeof i.expires?(l=new Date,l.setTime(l.getTime()+24*i.expires*60*60*1e3)):l=i.expires,s="; expires="+l.toUTCString()}var c,u=i.path?"; path="+i.path:"",h=i.domain?"; domain="+i.domain:"",p=i.secure?"; secure":"",d=["",location.host];if(i.expires!=-1)wizUI.util.cookie(t,null,i),document.cookie=[t,"=",encodeURIComponent(e),s,u,h,p].join("");else{for(c=location.host.split(".");c.length;)c.shift(),d.push("."+c.join("."));for(;d.length;)h=d[0]?"; domain="+d[0]:"",document.cookie=[t,"=",encodeURIComponent(e),s,u,h,p].join(""),d.shift()}},stopBubble:function(t){t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0},stopDefault:function(t){return t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1,!1},getRandomNum:function(t){for(var e="",i=/^\d+$/.test(t)?t:0,n=0;n<i;n++)e+=""+parseInt(10*Math.random());return~~e},getEmailLink:function(t){var e=t.split("@")[1],i={"qq.com":"http://mail.qq.com","gmail.com":"http://mail.google.com","sina.com":"http://mail.sina.com.cn","163.com":"http://mail.163.com","126.com":"http://mail.126.com","yeah.net":"http://www.yeah.net/","sohu.com":"http://mail.sohu.com/","tom.com":"http://mail.tom.com/","139.com":"http://mail.10086.cn/","sogou.com":"http://mail.sogou.com/","hotmail.com":"http://www.hotmail.com","live.com":"http://login.live.com/","live.cn":"http://login.live.cn/","live.com.cn":"http://login.live.com.cn","189.com":"http://webmail16.189.cn/webmail/","yahoo.com.cn":"http://mail.cn.yahoo.com/","eyou.com":"http://www.eyou.com/","yahoo.cn":"http://mail.cn.yahoo.com/","21cn.com":"http://mail.21cn.com/","188.com":"http://www.188.com/","foxmail.com":"http://www.foxmail.com","outlook.com":"http://www.outlook.com"};return i[e]},getWeiboShareURL:function(t){t=t||{};var e="http://service.weibo.com/share/share.php?";for(var i in t)t.hasOwnProperty(i)&&(e=e+i+"="+encodeURIComponent(t[i])+"&");return e.slice(0,-1)}}}(),function(){wizUI.isWizWebClient=!1,wizUI.isWizClient=!1,wizUI.isPcClient=!1,wizUI.isAndroidClient=!1,wizUI.isMacClient=!1,wizUI.isIOSClient=!1,wizUI.isAppStore=!1,wizUI.browser=function(){var t=navigator.userAgent;return{mobile:!!t.match(/AppleWebKit.*Mobile.*/i),windows:!!t.match(/Window/i),mac:!!t.match(/Macintosh/i),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/i),android:!!t.match(/Android/i),linux:!!t.match(/Linux/i),iPhone:!!t.match(/iPhone/i),iPad:!!t.match(/iPad/i),weChat:!!t.match(/MicroMessenger/i)}}(),wizUI.util.getToken=null,wizUI.util.forceClientRefresh=function(){},wizUI.util.closeClientWebView=function(){},wizUI.util.forceClientSync=function(){},wizUI.util.openWizLink=function(t){if(t){var e=window.screen,i=.6*e.availWidth,n=.6*e.availHeight,o=(e.availWidth-i)/2+e.availLeft,a=(e.availHeight-n)/3+e.availTop,r=["height=",n,",width=",i,",left=",o,",top=",a,",toolbar=no,menubar=no,resizable=yes"],s=window.open(t,t.replace(/[\W]/g,""),r.join(""));s.focus()}},function(){var t,e,i;e=wizUI.util.getUrlParam("plat",null),i=wizUI.util.getUrlParam("client_type",null);try{wizUI.isWizWebClient=window.parent!==window||"webFrame"==e||"webFrame"==i,wizUI.isWizWebClient&&(wizUI.util.forceClientRefresh=function(t){try{window.parent!=window&&window.parent.$("body").trigger("wiz_eventManager",["forceClientRefresh",t])}catch(t){}},wizUI.util.closeClientWebView=function(){try{window.parent!=window&&window.parent.$("body").trigger("wiz_eventManager",["wiz_hideWizFrame"])}catch(t){}},wizUI.util.forceClientSync=wizUI.util.forceClientRefresh)}catch(t){}if(!wizUI.isWizWebClient){try{t=window.external;var n=t&&"undefined"!=typeof t.CreateWizObject?t.CreateWizObject("WizKMControls.WizCommonUI"):null;n=n||"x86"==e||"x86"==i,n&&(wizUI.isPcClient=!0,n.OpenURLInDefaultBrowser&&(window.open=function(t){if(t)try{n.OpenURLInDefaultBrowser(t)}catch(t){}}),t&&t.Window&&t.Window.GetToken&&(wizUI.util.getToken=function(e){try{t.Window.GetToken(window[e])}catch(t){}}),t&&t.Window&&t.Window.SetDialogResult&&(wizUI.util.forceClientRefresh=function(){try{"undefined"!=typeof WizChromeBrowser?t.Window.SetDialogResult(WizChromeBrowser,1):t.Window.SetDialogResult(document,1)}catch(t){}}),wizUI.util.closeClientWebView=function(){try{t.Window.Close()}catch(t){}},t&&t.ExecuteCommand&&(wizUI.util.forceClientSync=function(){try{t.ExecuteCommand("Sync",!0,null)}catch(t){}}),wizUI.util.openWizLink=function(t){try{}catch(t){}})}catch(t){}if(!wizUI.isPcClient){try{t=window.WizNoteAndroid||"android"==e||"android"==i,t&&(wizUI.isAndroidClient=!0,window.open=function(e){if(e)try{t.openURLInDefaultBrowser(e)}catch(t){}},wizUI.util.forceClientRefresh=function(){try{t.setResultCode("1")}catch(t){}},wizUI.util.closeClientWebView=function(){try{t.close()}catch(t){}},wizUI.util.openWizLink=function(e){try{t.openWizURL(e)}catch(t){}})}catch(t){}if(!wizUI.isAndroidClient){try{t=window.WizExplorerApp||"macosx"==e||"macosx"==i,t&&(wizUI.isMacClient=!0,wizUI.isAppStore=!!wizUI.util.getUrlParam("appstore",null),window.open=function(e){if(e)try{t.OpenURLInDefaultBrowser(e)}catch(t){}},t.GetToken&&(wizUI.util.getToken=function(e){try{t.GetToken(e)}catch(t){}}),wizUI.util.forceClientRefresh=function(){try{t.SetDialogResult(1)}catch(t){}},wizUI.util.closeClientWebView=function(){try{t.Close()}catch(t){}},wizUI.util.openWizLink=function(t){try{}catch(t){}})}catch(t){}if(!wizUI.isMacClient){try{var o="wiz_isIOS";t=window.WizNoteIOS||wizUI.util.cookie(o)||"ios"==e||"iosios"==e||"ios"==i||"iosios"==i,t&&(wizUI.isIOSClient=!0,wizUI.isAppStore=!0,wizUI.util.cookie(o,1),window.open=function(t){if(t)try{window.location.href="wiznoteteam://openURLInDefaultBrowser?url="+encodeURIComponent(t)}catch(t){}},wizUI.util.forceClientRefresh=function(){try{window.location.href="wiznoteteam://setResultCode?code=1"}catch(t){}},wizUI.util.closeClientWebView=function(){try{window.location.href="wiznoteteam://closeWebView"}catch(t){}},wizUI.util.openWizLink=function(t){try{}catch(t){}})}catch(t){}wizUI.isIOSClient}}}}}(),wizUI.isWizClient=wizUI.isPcClient||wizUI.isAndroidClient||wizUI.isMacClient||wizUI.isIOSClient}(),function(){wizUI.note={isImportExcel:function(t){if(!t)return!1;var e=/<meta [^<>]*="Excel Workbook Frameset"[^<>]*\/?>/;return e.test(t)},isImportPDF:function(t){if(!t)return!1;var e=/<img [^<>]* src="[^<>]*\/pdf2htmlEX-64x64\.png"[^<>]*\/?>/;return e.test(t)},htmlFormat:function(t,e){var i=$("iframe"),n=i.contents();n[0].open(),n[0].write(t);var o=n[0].doctype;e&&n.find("head").prepend('<meta name="referrer" content="always">');var a;return a=o?"<!doctype "+o.name+(o.publicId?' PUBLIC "'+o.publicId+'"':"")+(!o.publicId&&o.systemId?" SYSTEM":"")+(o.systemId?' "'+o.systemId+'"':"")+">"+n.find("html")[0].outerHTML:"<!doctype html>"+n.find("html")[0].outerHTML,i=null,n=null,a}}}(),function(){var t={checkBtn:"check-btn",single:"check-single",multi:"check-multi",checked:"checked",disabled:"disabled"},e={single:function(e,i){if(e.hasClass(t.checked)){var n=e.data("check-cancel");n&&(e.removeClass(t.checked),i.trigger("checkChange"))}else{if(e.hasClass(t.disabled))return!1;var o=e.attr("name");$("."+t.checkBtn+"."+t.single+"."+t.checked+'[name="'+o+'"]').removeClass(t.checked),e.addClass(t.checked),i.trigger("checkChange")}},multi:function(e,i){if(e.hasClass(t.checked))e.removeClass(t.checked);else{if(e.hasClass(t.disabled))return!1;e.addClass(t.checked)}i.trigger("checkChange")}};window.wizUI.checkBtn={init:function(i){i=i?i:$(document.body),i.get(0)._checkBtnInit||(i.get(0)._checkBtnInit=!0,i.delegate("."+t.checkBtn+"."+t.single,wizUI.event.click,function(t){e.single($(this),i)}),i.delegate("."+t.checkBtn+"."+t.multi,wizUI.event.click,function(t){e.multi($(this),i)}))}}}(),function(){wizUI.Confirm=function(t){var e,i,n,o,a,r,s,l,c=this,u={active:"active",off:"confirm-close-ctn"},h={confirm:"confirm",header:"confirm-header",contentBody:"confirm-body",closeBtn:"confirm-close",okBtn:"confirm-ok",cancelBtn:"confirm-cancel"};this.init=function(){t&&(i=$("#"+h.confirm),n=$("#"+h.header),o=$("#"+h.contentBody),a=$("#"+h.okBtn),r=$("#"+h.cancelBtn),s=t.okBtn,l=t.cancelBtn,this.bindEvent())},this.bindEvent=function(){a.bind(wizUI.event.click,function(){e&&e(!0),c.hide()}),i.on(wizUI.event.click,"."+u.off,function(){e&&e(!1),c.hide()})},this.show=function(t,c){e=c,t&&(t.hideCancelBtn?r.hide():r.show(),a.text(t.okBtn?t.okBtn:s),r.text(t.cancelBtn?t.cancelBtn:l),n.html('<p class="ht">'+t.header+"</p>"),o.html("<p>"+t.content+"</p>"),i.addClass(u.active))},this.hide=function(){i.removeClass(u.active)},this.init()}}(),function(){window.wizUI.ContextMenu=function(t){function e(t){var i;if(i=t.type&&"default"!=t.type?h.type[t.type].item.replace("{icon}",c&&t.icon!==!1?h.type[t.type].icon:""):h.type.defaultType.item.replace("{icon}",c&&t.icon!==!1?h.type.defaultType.icon:""),t.child_item){var n,o,a,s,l=[];for(o=0,a=t.child_item.length;o<a;o++)s=t.child_item[o],n=e(s),l.push(n);i=i.replace("{child_item}","<ul>"+l.join("")+"</ul>")}return r.templateReplace(i,t)}function i(){if(t.template&&t.template.enable===!1)return h.enable=!1,$("#"+l.menuId);t.template&&t.template.ctn&&(h.ctn=t.template.ctn),t.template&&t.template.main&&(h.main=t.template.main),t.template&&t.template.type&&(h.type=t.template.type);var i,n,o,a,s=[];for(i=0,n=t.menuItems.length;i<n;i++)o=t.menuItems[i],a="",a=e(o),s.push(a);var c=r.templateReplace(h.main,{id:l.menuId,items:s.join("")});return h.ctn.append(c),$("#"+l.menuId)}function n(){var t;for(t in u)this.menuLayer.delegate("."+s.menuItem,t,u[t])}function o(t){var e=$(t.currentTarget),i=e.attr("data-id"),n=a.handlerMap.click;if(n){var o,r;for(o=0,r=n.length;o<r;o++)n[o].apply(this,[t,i])}}if(t){var a=this,r=window.wizUI.util,s={menuItem:t.itemClass||"wizui-contextmenu",show:"showing",hasIcon:"has-icon",active:"active"},l={menuId:t.menuId||"wiz_menu_"+(new Date).valueOf()},c=!!t.icon,u={};u[wizUI.event.click]=o;var h={enable:!0,ctn:$("body"),main:'<div id={id} class="menu context-menu"><ul>{items}</ul></div>',type:{defaultType:{item:'<li class="'+s.menuItem+'" data-id="{id}">{text}{icon}</li>',icon:'<i class="item-icon icon {icon_name}"></i>'}}};this.handlerMap={},wizUI.ContextMenu.prototype.bind||(wizUI.ContextMenu.prototype.bind=function(t,e){if(!u[t])return this;if(!t||"function"!=typeof e)return this;var i=this.handlerMap[t];i||(this.handlerMap[t]=i=[]);var n=r.arrayIndexOf(i,e);return n<0&&i.push(e),this},wizUI.ContextMenu.prototype.unbind=function(t,e){if("function"!=typeof e)return this;var i=this.handlerMap[t],n=r.arrayIndexOf(i,e);return n>=0&&i.splice(n,1),this}),this.menuLayer=i(),this.menuItems=$("."+s.menuItem,this.menuLayer),c&&this.menuLayer.addClass(s.hasIcon),this.isShow=!1,n.apply(this),this.setDefault=function(t){var e=$("."+s.menuItem+"[data-id="+t+"]",this.menuLayer);e.get(0)?e.addClass(s.active).siblings("."+s.menuItem+"."+s.active).removeClass(s.active):$("."+s.menuItem+"."+s.active).removeClass(s.active)},this.show=function(t){var e,i,n,o={};if(t)for(e=0,i=t.length;e<i;e++)o[t[e]]=!0;for(e=0,i=this.menuItems.length;e<i;e++)n=$(this.menuItems[e]),o[n.attr("data-id")]?n.hide():n.show();return this.menuLayer.addClass(s.show),this.isShow=!0,this},this.hide=function(){return this.menuLayer.removeClass(s.show),this.isShow=!1,this},this.getMenuItem=function(e){var i,n,o,a,r,s;for(i=0,n=t.menuItems.length;i<n;i++)if(o=t.menuItems[i],o.child_item&&o.child_item.length>0){for(a=0,r=o.child_item.length;a<r;a++)if(s=o.child_item[a],e===s.id)return s}else if(e===o.id)return o;return null}}}}(),function(){function t(t,e,i){wizUI.scriptLoader.load(t,e,i)}function e(e,i,n){var o=0,a=i.length,r=function(){o<a?t(e,i[o++],r):n&&n()};return r}var i=wizUI.util;window.wizUI.dependLoader={getDependencyFiles:function(t,e,i){var n,o,a,r,s,l,c,u=[];for(n=0,o=t[e][i].length;n<o;n++)if(a=t[e][i][n],"css"==e)u.push(t.files[e][a]);else{for(c=[],r=0,s=a.length;r<s;r++)l=a[r],c.push(t.files[e][l]);u.push(c)}return u},loadJs:function(t,i,n){var o=e(t,i,n);o()},loadCss:function(t,e){var n,o;for(n=0,o=e.length;n<o;n++)i.loadSingleCss(t,e[n])}}}(),function(){var t={fItem:".float-label"},e={fControl:"form-control",fLabel:"f-label",active:"fl-active"},i=function(t){t.each(function(t,i){var n=$(i);if(!$("."+e.fLabel,n).get(0)&&n.attr("data-fl")){var o=document.createElement("span");o.innerHTML=n.attr("data-fl"),o.className=e.fLabel,n.append(o)}})},n=function(t){t.each(function(t,e){var i=$(e);i.unbind("DOMAttrModified propertychange keyup input",o).bind("DOMAttrModified propertychange keyup input",o)})},o=function(){""===$(this).prop("value")?$(this).parents("."+e.fControl).removeClass(e.active):$(this).parents("."+e.fControl).addClass(e.active)};window.wizUI.FloatLabel={init:function(o){o=o?o:$("body");var a=$(t.fItem+" ."+e.fControl,o),r=$(t.fItem+" input",o);0===a.length||(i(a),n(r))}}}(),function(){var t={phItem:".form.patch-ph .form-control"},e={phPatcher:"ph-patcher",hide:"hide"},i=function(e){var i=$(t.phItem,e);i.each(function(t,e){var i=$(e).find("input"),o=$(e).find("textarea");i.length>0&&n(e,i),o.length>0&&n(e,o)})},n=function(t,i){if(!$("."+e.phPatcher,t).get(0)){var n=document.createElement("span");n.setAttribute("class",e.phPatcher),n.innerHTML=i.attr("placeholder"),""!==i.prop("value")&&n.setAttribute("class",e.phPatcher+" "+e.hide),i.after(n)}},o=function(i){$("."+e.phPatcher,i).bind(wizUI.event.click,function(t){var e=$(t.target);e.siblings("input").focus(),e.siblings("textarea").focus()}),$(t.phItem+" input[placeholder]",i).unbind("DOMAttrModified propertychange keyup input",a).bind("DOMAttrModified propertychange keyup input",a),$(t.phItem+" textarea[placeholder]",i).unbind("DOMAttrModified propertychange keyup input",a).bind("DOMAttrModified propertychange keyup input",a)},a=function(t){""===$(this).prop("value")?$(this).siblings("."+e.phPatcher).removeClass(e.hide):$(this).siblings("."+e.phPatcher).addClass(e.hide)};window.wizUI.Placeholder={init:function(t){wizUI.support.placeholder||(t=t?t:$("body"),i(t),o(t))}}}(),function(){function t(){this.el=$('<div class="top-btn"></div>');var t=this;this.init=function(){this.el.appendTo("body").on("click",function(){$("html, body").animate({scrollTop:0},300)}),this.scrollHandler(),this.resizeHandler(),$(window).on("scroll",this.scrollHandler).on("resize",this.resizeHandler)},this.scrollHandler=function(){var e=$(document).scrollTop();e>0?t.el.addClass("on"):t.el.removeClass("on")},this.resizeHandler=function(){var e=$(window).width();t.el.css({left:e-t.el.width()-20+"px"})}}"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=t:window.wizUI.Go2Top=t}(),function(){window.wizUI.util.preload=function(t){if(t){var e=[];if(document.images)for(var i=0,n=t.length;i<n;i++)e[i]=new Image,e[i].src=t[i]}}}(),function(){window.wizUI.InputNumber=function(t,e){var i=t.find(".input-number-plus"),n=t.find(".input-number-minus"),o=t.find(".number-show-ctn"),a=this;a.inputEle=t.find(".input-number"),a.numberShow=o.find(".number-show"),a.min=e.min,a.max=e.max,a.unit=e.unit||"",a.changeHandler=e.changeHandler||function(t){console.log(t)},a.minNaN=isNaN(this.min),a.maxNaN=isNaN(this.max);var r={plusHandler:function(){if(!t.hasClass("disabled")){var e=+a.inputEle.val();(a.maxNaN||!a.maxNaN&&e<a.max)&&e++,a.inputEle.val(e),a.numberShow.html(a.inputEle.val()+a.unit),a.changeHandler(e)}},minusHandler:function(){if(!t.hasClass("disabled")){var e=+a.inputEle.val();(a.minNaN||!a.minNaN&&e>a.min)&&e--,a.inputEle.val(e),a.numberShow.html(a.inputEle.val()+a.unit),a.changeHandler(e)}},inputHandler:function(e){if(!t.hasClass("disabled")){var i,n,o=$(this),r=$(this).val();isNaN(r)?n=a.min||0:(i=+r,n=!a.minNaN&&i<a.min?a.min:!a.maxNaN&&i>a.max?a.max:i),n!=r&&o.val(n),a.numberShow.html(n+a.unit)}},inputBlur:function(){if(!t.hasClass("disabled")){var e=$(this),i=+e.val();isNaN(i)&&e.val(a.min||0),o.removeClass("focus")}},inputFocus:function(){t.hasClass("disabled")||(o.addClass("focus"),a.inputEle.focus())}};this.init=function(){a.numberShow.html(a.inputEle.val()+a.unit),a.inputEle.val(a.inputEle.val()),i.on("click",r.plusHandler),n.on("click",r.minusHandler),a.inputEle.on("DOMAttrModified propertychange keyup input",r.inputHandler).on("blur",r.inputBlur),a.numberShow.on("click",r.inputFocus)},this.init()},window.wizUI.InputNumber.prototype.setInputValue=function(t){var e,i=this;e=isNaN(t)?this.min||0:!i.minNaN&&t<i.min?i.min:!i.maxNaN&&t>i.max?i.max:+t,i.numberShow.html(e+i.unit),i.inputEle.val(e)}}(),function(){var t={active:"active",modal:"modal",modalCloseBtn:"modal-close-btn"};wizUI.Modal={init:function(){$("body").delegate("."+t.modalCloseBtn,"click",wizUI.Modal.closeModal)},closeModal:function(e){var i=$(e.target);i.parents("."+t.modal).removeClass(t.active)}}}(),function(){function t(){var t=this.opt,e=t.pop,o=$("#"+t.id);0===o.length&&(o=$(document.createElement("div")),o.attr("class","popover"),o.attr("id",t.id));var a="",r=null;e&&"string"==typeof e.title&&(a+=i.templateReplace(t.template.title,e)),e&&e.content&&("string"==typeof e.content?a+=i.templateReplace(t.template.content,e):r=e.content),o.html(a),r&&o.append(r),this.pop=o,this.opt.autoShow&&n.bind.apply(this)}var e=5,i=window.wizUI.util;window.wizUI.Popover=function(e){if(e)return e.id||(e.id="wiz_popover_"+(new Date).valueOf()),e.popBtn=e.popBtn||null,e.autoShow=e.autoShow!==!1,e.triSize=e.triSize||14,this.opt=e,this.opt.pop||(this.opt.pop={}),this.opt.pop.title||(this.opt.pop.title=""),this.opt.pop.content||(this.opt.pop.content=""),this.opt.template||(this.opt.template={}),this.opt.template.title||(this.opt.template.title='<div class="popover-title"><div class="ht">{title}</div></div>'),this.opt.template.content||(this.opt.template.content='<div class="popover-content">{content}</div>'),this.opt.callback||(this.opt.callback={}),this.hasInit=!1,t.apply(this),$(document.body).append(this.pop),this.hasInit=!0,this},window.wizUI.Popover.prototype.render=function(e,i){return e&&(this.opt.pop.title=e),i&&(this.opt.pop.content=i),t.apply(this),this},window.wizUI.Popover.prototype.show=function(t,e){return e.hasClass("disabled")?this:(this.setPos(t,e),this.pop.addClass("active "+t),this)},window.wizUI.Popover.prototype.hide=function(){this.pop.removeClass("active")},window.wizUI.Popover.prototype.toggle=function(t,e){return e.hasClass("disabled")?this:(this.pop.hasClass("active")?this.hide():this.show(t,e),this)},window.wizUI.Popover.prototype.setPos=function(t,i){function n(){p+u.w>=a.w?(this.pop.addClass("sub-right"),p=r-u.w+c.w/2):p<=0&&(this.pop.addClass("sub-left"),p=r+c.w/2)}if(t=t?t:"top",this.pop.removeClass("top right bottom left sub-left sub-right").addClass(t),i){var o=i.offset(),a={w:document.body.clientWidth,h:document.body.clientHeight},r=o.left,s=o.top,l=window.getComputedStyle?window.getComputedStyle(i.get(0)):{width:i.get(0).offsetWidth,height:i.get(0).offsetHeight},c={w:parseFloat(l.width),h:parseFloat(l.height)};this.pop.css({left:"-1000px"});var u={w:this.pop.width(),h:this.pop.get(0).clientHeight||this.pop.get(0).scrollHeight},h=0,p=0;switch(t){case"top":h=s-(u.h+this.opt.triSize+e),p=r-(u.w-c.w)/2,n.apply(this);break;case"right":h=s-(u.h-c.h)/2,p=r+c.w+this.opt.triSize+e;break;case"bottom":h=s+c.h+this.opt.triSize+e,p=r-(u.w-c.w)/2,n.apply(this);break;case"left":h=s-(u.h-c.h)/2,p=r-(u.w+this.opt.triSize+e)}this.pop.css({top:h,left:p})}return this};var n={bind:function(){if(!this.hasInit){var t=this;n.unbind.apply(this),this.opt.popBtn.bind("mouseenter",function(){var e=$(this);clearTimeout(t.hideTimer),t.showTimer=setTimeout(function(){t.opt.callback.render&&t.opt.callback.render(e),t.show(e.attr("data-pos"),e)},100)}).bind("mouseleave",function(){t.showTimer&&(clearTimeout(t.showTimer),t.showTimer=null,t.hideTimer=setTimeout(function(){t.hide()},100))}),this.pop.bind("mouseenter",function(){clearTimeout(t.hideTimer)}),this.pop.bind("mouseleave",function(){t.hideTimer=setTimeout(function(){t.hide()},100)})}},unbind:function(){this.opt.popBtn.unbind("mouseenter"),this.opt.popBtn.unbind("mouseleave"),this.pop.unbind("mouseenter"),this.pop.unbind("mouseleave")}}}(),function(){var t={auto:"auto",disabled:"disabled"};window.wizUI.RangeSlider=function(t,i){var n=$(document);this.slider={main:t,bar:$(".bar",this.slider),slipper:$(".slipper",this.slider)},this.callback={onChange:function(t){}},i.callback&&i.callback.onChange&&(this.callback.onChange=function(t){i.callback.onChange.apply(this,[t])}),e.initRange.apply(this,[i]);var o=this,a={bind:function(){o.slider.slipper.bind("mousedown",a.onSlipperMouseDown),o.slider.main.bind("mousedown",a.onMouseDown)},onMouseDown:function(t){if(!o.disabled){var i=t.pageX-o.slider.main.offset().left;e.setRangeIndexByPercent.apply(o,[(i-o.slider.min)/(o.slider.max-o.slider.min)]),e.showSlipperByRange.apply(o)}},onSlipperMouseDown:function(t){o.disabled||(o.slider.slipper.start=t.pageX,o.slider.slipper.startLeft=parseInt(o.slider.slipper.css("left"),10),n.bind("mousemove",a.onMouseMove),n.bind("mouseup",a.onMouseUp),n.bind("selectstart",a.onDocSelect))},onMouseUp:function(t){n.unbind("mousemove",a.onMouseMove),n.unbind("mouseup",a.onMouseUp),n.unbind("selectstart",a.onDocSelect),e.showSlipperByRange.apply(o)},onMouseMove:function(t){var i=t.pageX-o.slider.slipper.start,n=o.slider.slipper.startLeft+i;n<o.slider.min&&(n=o.slider.min),n>o.slider.max&&(n=o.slider.max),e.setRangeIndexByPercent.apply(o,[(n-o.slider.min)/(o.slider.max-o.slider.min)]),e.showSlipperByLeft.apply(o,[n])},onDocSelect:function(){return!1}};e.initSliderSize.apply(this),a.bind(),e.showSlipperByRange.apply(this),this.setDisabled=function(t){e.setDisabled.apply(o,[t])},this.updateRange=function(t){e.updateRange.apply(o,[t])}};var e={initRange:function(t){var i,n,o,a,r={index:-1},s=t.value;if(t.rangeList)r.rangeList=t.rangeList;else for(r.rangeList=[],i=t.min||0,n=t.max||100,o=t.step||10,a=i;a>=i&&a<=n;)r.rangeList.push(a),a+=o;this.range=r,this.disabled=!!t.disabled,"undefined"!=typeof s&&null!==s||(s=r.rangeList[0]),e.setRangeIndexByValue.apply(this,[s])},updateRange:function(t){e.initRange.apply(this,[t]),e.initSliderSize.apply(this),e.showSlipperByRange.apply(this)},initSliderSize:function(){var t=this.slider,e=this.range,i=t.main.width(),n=t.slipper.width();t.min=-n/2,t.max=i-n/2,t.step=(t.max-t.min)/(e.rangeList.length-1)},setDisabled:function(e){this.disabled=!!e,e?this.slider.main.addClass(t.disabled):this.slider.main.removeClass(t.disabled)},setRangeIndex:function(t){var e=this.range,i=e.index;t<0?t=0:t>e.rangeList.length-1&&(t=e.rangeList.length-1),i!=t&&(e.index=t,this.callback.onChange(e.rangeList[t]))},setRangeIndexByValue:function(t){var i,n,o,a=this.range;for(i=0,n=a.rangeList.length-1;i<n&&(o=a.rangeList[i],!(t<=o));i++);e.setRangeIndex.apply(this,[i])},setRangeIndexByPercent:function(t){var i=this.range;e.setRangeIndex.apply(this,[Math.round(t*(i.rangeList.length-1))])},showSlipper:function(t){var i=this.slider;i.bar.css({width:t+"px"}),i.slipper.css({left:t+"px"}),e.setDisabled.apply(this,[this.disabled])},showSlipperByLeft:function(i){var n=this.slider;n.main.removeClass(t.auto),e.showSlipper.apply(this,[i])},showSlipperByRange:function(){var i=this.slider,n=this.range,o=i.min+i.step*n.index;i.main.addClass(t.auto),e.showSlipper.apply(this,[o])}}}(),function(){function t(t,e){return n[t]||(n[t]=0),n[t]++,function(){n[t]--,0===n[t]&&(n[t]=null,e&&e())}}function e(t){return"wiz_js_"+t}function i(t){if(t){var e={version:t.version,jsStr:t.jsStr};localStorage.setItem(t.id,JSON.stringify(e))}}wizUI.util;wizUI.scriptLoader={appendJsCode:function(t,e,i){var n=t.createElement("script");n.type=i,n.text=e,t.getElementsByTagName("head")[0].appendChild(n)},load:function(n,o,a){if(n&&o){var r,s,l,c,u=(new Date).valueOf(),h=!0;for(r=0,s=o.length;r<s;r++)if("string"==typeof o[r])l=this.loadSingleJs(n,o[r]),l!==!0&&(l.onload=t(u,a),h=!1);else{var p=o[r].link,d=e(o[r].id),m=o[r].version;if(window.localStorage){var f=JSON.parse(localStorage.getItem(d));f&&f.version==m?(l=this.inject(n,f.jsStr,d),l!==!0&&(c=t(u,a),setTimeout(function(){c()},10),h=!1)):(h=!1,c=t(u,a),$.ajax({url:p,context:{id:d,version:m},success:function(t){i({id:this.id,version:this.version,jsStr:t}),l=wizUI.scriptLoader.inject(n,t,this.id),l!==!0&&setTimeout(function(){c()},10)},error:function(){c()}}))}else l=this.loadSingleJs(n,o[r].link),l!==!0&&(l.onload=t(u,a),h=!1)}h&&a()}},loadSingleJs:function(t,e){var i="wiz_"+e;if(t.getElementById(i))return!0;var n=t.createElement("script");return n.type="text/javascript",
n.setAttribute("charset","utf-8"),n.src=e.replace(/\\/g,"/"),n.id=i,t.getElementsByTagName("head")[0].insertBefore(n,null),n},inject:function(t,e,i){if(!t||t.getElementById(i))return!0;var n=t.createElement("script");return n.type="text/javascript",n.id=i,n.text=e,t.getElementsByTagName("head")[0].insertBefore(n,null),n}};var n={}}(),function(){wizUI.SysMsg=function(t){function e(){this.ctn.delegate("."+l.close,wizUI.event.click,function(){var t=$(this).parents(".sys-msg");i.apply(r,[t,!0])})}function i(t,e){var i,n,a=t.attr("id");for(i=this.msgShowingCache.length-1;i>=0;i--)if(n=this.msgShowingCache[i],n.id===a){this.msgShowingCache.splice(i,1);break}t.addClass(l.closing),setTimeout(function(){t.remove(),o.apply(r)},300)}function n(t){if(t){var e,n;for(e=this.msgShowingCache.length-1;e>=0;e--)if(n=this.msgShowingCache[e],n.msg===t)return i.apply(this,[n.dom]),!0;for(e=this.msgCache.length-1;e>=0;e--)if(n=this.msgCache[e],n.msg===t)return this.msgCache.splice(e,1),!0;return!1}}function o(){if(!(this.msgShowingCache.length>=c||0==this.msgCache.length)){var t=this.msgCache.shift();this.msgShowingCache.push(t);var e=s.templateReplace(this.itemTemplate,t);u.innerHTML=e;var i=$(u.children[0]);i.addClass(l.ready).addClass(this.drop),t.dom=i,this.ctn.prepend(i),setTimeout(function(){i.removeClass(l.ready),t.auto>0&&i.hover(function(e){t.outTimer&&clearTimeout(t.outTimer)},function(e){a(t)})},50),a(t)}}function a(t){t.auto>0&&(t.outTimer=setTimeout(function(){i.apply(r,[t.dom])},t.auto))}if(t||t.itemTemplate){var r=this,s=window.wizUI.util,l={ready:"getready",close:"msg-close",closing:"closing",canBlock:"can-block",success:"icon-right-grn",error:"icon-unhappy-red",warning:"icon-warning-ylw"},c=t.max||3,u=document.createElement("div"),h=300,p=(new Date).valueOf(),d=function(t){if(t.showRnd&&2==t.showRnd.length){var e=(new Date).valueOf()*Math.random()%t.showRnd[0];if(e>t.showRnd[1])return{}}this.id="wizmsg_"+(new Date).valueOf(),this.type=l[t.type||"warning"],this.msg=t.msg||"",this.auto=t.auto||3e3,this.drop=t.showDrop?"drop":""};this.ctn=t.ctn||$("body"),this.itemTemplate=t.itemTemplate,this.msgCache=[],this.msgShowingCache=[],this.addMsg=function(t){if(!t||!t.msg)return this;n.apply(this,[t.msg]);var e=new d(t),i=(new Date).valueOf()-p;return p+=i,e&&e.id&&(i=i>=h?0:h-i,r.msgCache.push(e),setTimeout(function(){o.apply(r)},i)),this},e.apply(this)}}}(),function(){wizUI.Tab=function(t){function e(t){var e=$(t.currentTarget),n=e.attr("data-tabfor");if(!e.is(i.curItem)){i.curItem=e,e.addClass(o.active).siblings("."+o.tabItem).removeClass(o.active);var a,r;for(a=0,r=i.switchTabFuns.length;a<r;a++)i.switchTabFuns[a].apply(this,[t,n])}}if(t&&t.tabMainId){var i=this,n=window.wizUI.util,o={tabItem:t.tabItemClass||"tabItem",active:t.activeClass||"active"},a={tabMain:t.tabMainId||""};this.curItem=null,this.switchTabFuns=[],wizUI.Tab.prototype.bindSwitch||(wizUI.Tab.prototype.bindSwitch=function(t){if("function"!=typeof t)return this;var e=n.arrayIndexOf(this.switchTabFuns,t);return e<0&&this.switchTabFuns.push(t),this},wizUI.Tab.prototype.unbindSwitch=function(t){if("function"!=typeof t)return this;var e=n.arrayIndexOf(this.switchTabFuns,t);return e>=0&&this.switchTabFuns.splice(e,1),this},wizUI.Tab.prototype.init=function(){var t=$("#"+a.tabMain);t.delegate("."+o.tabItem,wizUI.event.click,e);var i=$("."+o.tabItem+"."+o.active);return i.get(0)?i.trigger(wizUI.event.click):$("."+o.tabItem).first().trigger(wizUI.event.click),this}),this.switchToIndex=function(t){var e=$("."+o.tabItem);t<0?t=0:e.length>=t&&(t=e.length-1),$(e.get(t)).trigger(wizUI.event.click)},this.switchToId=function(t){var e=$("."+o.tabItem+"#"+t);e.get(0)&&e.trigger(wizUI.event.click)}}}}(),function(){var t="wiz-tooltip",e=6;window.wizUI.Tooltip=function(e){var i=document.createElement("p");$(i).attr("class",t).attr("id",e.id),$(document.body).append(i),this.el=$(i),this.timer={show:void 0,hide:void 0},e.offset=e.offset?e.offset:{},this.offset={top:e.offset.top||0,left:e.offset.left||0}},window.wizUI.Tooltip.prototype.bind=function(t,e){var i=this;$(t).hover(function(){clearTimeout(i.timer.hide);var t=$(this).attr("data-tooltip");i.render(t).show($(this),e)},function(){i.hide()}),this.el.hover(function(){clearTimeout(i.timer.hide)},function(){i.hide()})},window.wizUI.Tooltip.prototype.show=function(t,i){var n=this,o=t.offset(),a=t.width(),r=t.height();i="bottom";var s={};switch(i){case"bottom":s={top:o.top+r+e+n.offset.top,left:o.left+(a-n.W)/2+n.offset.left}}this.el.css(s).addClass("active bottom")},window.wizUI.Tooltip.prototype.hide=function(){var t=this;t.timer.hide=setTimeout(function(){t.el.removeClass("active bottom top left right")},60)},window.wizUI.Tooltip.prototype.setPos=function(){},window.wizUI.Tooltip.prototype.render=function(t){return this.el.html(t),this.W=this.el.width(),this.H=this.el.height(),this}}();